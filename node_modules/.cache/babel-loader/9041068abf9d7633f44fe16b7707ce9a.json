{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Downloads\\\\react-portfolio-master\\\\react-portfolio-master\\\\src\\\\Components\\\\Form.js\";\nimport React, { Component } from 'react';\nimport config from '../config.js';\n\nconst firebase = require('firebase');\n\nexport class Form extends Component {\n  constructor(props) {\n    super();\n\n    this.myFormHandler = event => {\n      event.preventDefault();\n\n      if (this.state.name === '') {\n        alert(\"Missing the following required field: name\");\n      } else if (this.state.msg === '') {\n        alert(\"Missing the following required field: message\");\n      } else if (this.state.visibility === '') {\n        alert(\"Missing the following required field: visibility\");\n      } else {\n        let formObj = {\n          name: this.state.name,\n          desc: this.state.desc,\n          msg: this.state.msg,\n          visibility: this.state.visibility,\n          email: this.state.email,\n          date: firebase.database.ServerValue.TIMESTAMP\n        };\n        firebase.database().ref('data').push().set(formObj);\n        this.setState({\n          shouldUpdate: true\n        });\n        alert(\"Message successfully delivered!\");\n      }\n    };\n\n    this.myChangeHandler = event => {\n      let field = event.target.name;\n      let value = event.target.value;\n      this.setState({\n        [field]: value\n      });\n    };\n\n    this.state = {\n      name: '',\n      desc: '',\n      msg: '',\n      visibility: 'private',\n      email: '',\n      shouldUpdate: false,\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    document.title = 'Leave a Message';\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config);\n    }\n\n    let ref = firebase.database().ref('data');\n    ref.on('value', snapshot => {\n      let data = snapshot.val();\n      let newData = [];\n      let months = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n\n      for (let entry in data) {\n        let d = new Date(data[entry].date);\n        let date = months[d.getMonth()] + \" \" + d.getDate() + \", \" + d.getFullYear() + \" (\" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds() + \")\";\n        newData.push({\n          id: entry,\n          name: data[entry].name,\n          desc: data[entry].desc,\n          msg: data[entry].msg,\n          visibility: data[entry].visibility,\n          email: data[entry].email,\n          date: date\n        });\n      }\n\n      this.setState({\n        data: newData\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    //only call set state here if it is wrapped in a condition\n    //if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\n    if (this.state.shouldUpdate !== prevState.shouldUpdate) {\n      //same code as above to retrieve the data \n      let ref = firebase.database().ref('data');\n      ref.on('value', snapshot => {\n        let data = snapshot.val();\n        let newData = [];\n        let months = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n\n        for (let entry in data) {\n          let d = new Date(data[entry].date);\n          let date = months[d.getMonth()] + \" \" + d.getDate() + \", \" + d.getFullYear() + \" (\" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds() + \")\";\n          newData.push({\n            id: entry,\n            name: data[entry].name,\n            desc: data[entry].desc,\n            msg: data[entry].msg,\n            visibility: data[entry].visibility,\n            email: data[entry].email,\n            date: date\n          });\n        }\n\n        this.setState({\n          data: newData\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"form-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form animate__animated animate__fadeInLeft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.myFormHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, \"Leave Me a Message\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 18\n      }\n    }, \"*\"), \" Enter your name:\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      type: \"text\",\n      minLength: \"6\",\n      maxLength: \"19\",\n      required: true,\n      onChange: this.myChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, \"Add a description about yourself:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 51\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"desc\",\n      type: \"text\",\n      size: \"50\",\n      maxLength: \"99\",\n      onChange: this.myChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 18\n      }\n    }, \"*\"), \" Leave your message:\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 46\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"msg\",\n      minLength: \"16\",\n      maxLength: \"499\",\n      required: true,\n      onChange: this.myChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 18\n      }\n    }, \"*\"), \" Would you like your name and message to be viewable by the other guests of this site?\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 112\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"visibility\",\n      name: \"visibility\",\n      required: true,\n      onChange: this.myChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"private\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"public\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, \"Your email:\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"text\",\n      size: \"30\",\n      onChange: this.myChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit\",\n      name: \"submit\",\n      value: \"Submit Your Message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"note\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 40\n      }\n    }, \"*\"), \": indicates a required field\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responses animate__animated animate__fadeInRight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"resp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, \"Messages\"), this.state.data.map(entry => {\n      if (entry.visibility !== 'private') {\n        if (entry.desc !== '') {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"response animate__animated animate__pulse\",\n            id: entry.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 27\n            }\n          }, entry.name), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"date\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 27\n            }\n          }, entry.date)), /*#__PURE__*/React.createElement(\"i\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 25\n            }\n          }, entry.desc), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 44\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"message\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }\n          }, entry.msg), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 69\n            }\n          }));\n        } else {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"response animate__animated animate__pulse\",\n            id: entry.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 27\n            }\n          }, entry.name), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"date\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 27\n            }\n          }, entry.date)), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"message\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }\n          }, entry.msg), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 69\n            }\n          }));\n        }\n      }\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"scrollButton\",\n      style: {\n        display: this.props.display\n      },\n      onClick: this.props.scrollToTop,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }\n    }, \"Scroll to Top\"));\n  }\n\n}\nexport default Form;","map":{"version":3,"sources":["C:/Users/Alex/Downloads/react-portfolio-master/react-portfolio-master/src/Components/Form.js"],"names":["React","Component","config","firebase","require","Form","constructor","props","myFormHandler","event","preventDefault","state","name","alert","msg","visibility","formObj","desc","email","date","database","ServerValue","TIMESTAMP","ref","push","set","setState","shouldUpdate","myChangeHandler","field","target","value","data","componentDidMount","document","title","apps","length","initializeApp","on","snapshot","val","newData","months","entry","d","Date","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","id","componentDidUpdate","prevProps","prevState","render","map","display","scrollToTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport config from '../config.js';\nconst firebase = require('firebase')\n\nexport class Form extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      name: '',\n      desc: '',\n      msg: '',\n      visibility: 'private',\n      email: '',\n      shouldUpdate: false,\n      data: [],\n    }\n  }\n\n  componentDidMount(){\n    document.title = 'Leave a Message';\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config);\n    }\n    let ref = firebase.database().ref('data');\n    ref.on('value', snapshot => {\n      let data = snapshot.val();\n        let newData = [];\n        let months = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n        for (let entry in data) {\n          let d = new Date(data[entry].date);\n          let date = months[d.getMonth()]+\" \"+d.getDate()+\", \"+d.getFullYear()+\" (\"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds()+\")\";\n          newData.push({\n            id: entry,\n            name: data[entry].name,\n            desc: data[entry].desc,\n            msg: data[entry].msg,\n            visibility: data[entry].visibility,\n            email: data[entry].email,\n            date: date,\n          })\n        }\n        this.setState({data: newData});\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot){\n    //only call set state here if it is wrapped in a condition\n    //if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\n    if(this.state.shouldUpdate !== prevState.shouldUpdate){\n      //same code as above to retrieve the data \n      let ref = firebase.database().ref('data');\n      ref.on('value', snapshot => {\n        let data = snapshot.val();\n        let newData = [];\n        let months = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n        for (let entry in data) {\n          let d = new Date(data[entry].date);\n          let date = months[d.getMonth()]+\" \"+d.getDate()+\", \"+d.getFullYear()+\" (\"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds()+\")\";\n          newData.push({\n            id: entry,\n            name: data[entry].name,\n            desc: data[entry].desc,\n            msg: data[entry].msg,\n            visibility: data[entry].visibility,\n            email: data[entry].email,\n            date: date,\n          })\n        }\n        this.setState({data: newData});\n      })\n    }\n  }\n\n  myFormHandler = (event) => {\n    event.preventDefault();\n    if (this.state.name === '') {\n      alert(\"Missing the following required field: name\");\n    } else if (this.state.msg === '') {\n      alert(\"Missing the following required field: message\");\n    } else if (this.state.visibility === '') {\n      alert(\"Missing the following required field: visibility\");\n    } else {\n      let formObj = {\n        name: this.state.name, \n        desc: this.state.desc,\n        msg: this.state.msg,\n        visibility: this.state.visibility,\n        email: this.state.email,\n        date: firebase.database.ServerValue.TIMESTAMP,\n      };\n      firebase.database().ref('data').push().set(formObj);\n      this.setState({shouldUpdate: true});\n      alert(\"Message successfully delivered!\");\n    }\n  }\n\n  myChangeHandler = (event) => {\n    let field = event.target.name;\n    let value = event.target.value;\n    this.setState({[field]: value});\n  }\n\n  render() {\n    return (\n      <div>\n        <div className='content'>\n          <div id='form-section'>\n            <div className='form animate__animated animate__fadeInLeft'>\n            <form onSubmit={this.myFormHandler}>\n              <h2>Leave Me a Message</h2>\n              <p><b>*</b> Enter your name:&nbsp;\n              <input name='name' type='text' minLength='6' maxLength='19' required onChange={this.myChangeHandler} /></p>\n              <p>Add a description about yourself:<br/>\n              <input name='desc' type='text' size='50' maxLength='99' onChange={this.myChangeHandler}/>\n              </p>\n              <p><b>*</b> Leave your message:<br/>\n                <textarea name='msg' minLength='16' maxLength='499' required onChange={this.myChangeHandler}></textarea>\n              </p>\n              <p><b>*</b> Would you like your name and message to be viewable by the other guests of this site?<br/>\n                <select id='visibility' name='visibility' required onChange={this.myChangeHandler}>\n                  <option value='private'>No</option>\n                  <option value='public'>Yes</option>\n                </select>\n              </p>\n              <p>Your email:\n              <input name='email' type='text' size='30' onChange={this.myChangeHandler}/>\n              </p>\n              <div>\n                <input type='submit' id='submit' name='submit' value='Submit Your Message'></input>\n                <span className='note'><b>*</b>: indicates a required field</span>\n              </div>\n            </form>\n            </div>\n            <div className='responses animate__animated animate__fadeInRight'>\n              <h2 id='resp'>Messages</h2>\n              {this.state.data.map((entry) => {\n                if(entry.visibility !== 'private') {\n                  if(entry.desc !== '') {\n                    return (\n                      <div className='response animate__animated animate__pulse' id={entry.id}>\n                        <div>\n                          <span className='name'>{entry.name}</span>\n                          <span className='date'>{entry.date}</span>\n                        </div>\n                        <i>{entry.desc}</i><br/>\n                        <span className='message'>{entry.msg}</span><br/>\n                      </div>\n                    )\n                  } else {\n                    return (\n                      <div className='response animate__animated animate__pulse' id={entry.id}>\n                        <div>\n                          <span className='name'>{entry.name}</span>\n                          <span className='date'>{entry.date}</span>\n                        </div>\n                        <span className='message'>{entry.msg}</span><br/>\n                      </div>\n                    )\n                  }\n                }\n              })}\n            </div>\n          </div>\n        </div>\n        <button className='scrollButton' style={{display: this.props.display}} onClick={this.props.scrollToTop}>Scroll to Top</button>\n      </div>\n    );\n  }\n}\nexport default Form;"]},"metadata":{},"sourceType":"module"}