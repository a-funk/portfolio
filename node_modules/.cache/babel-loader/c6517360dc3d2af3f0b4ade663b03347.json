{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Alex\\\\Desktop\\\\code\\\\reactproj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Alex\\\\Desktop\\\\code\\\\reactproj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Alex\\\\Desktop\\\\code\\\\reactproj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Alex\\\\Desktop\\\\code\\\\reactproj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Alex\\\\Desktop\\\\code\\\\reactproj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import config from'../config.js';var firebase=require('firebase');export var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this);_this.myFormHandler=function(event){event.preventDefault();if(_this.state.name===''){alert(\"Missing the following required field: name\");}else if(_this.state.msg===''){alert(\"Missing the following required field: message\");}else if(_this.state.visibility===''){alert(\"Missing the following required field: visibility\");}else{var formObj={name:_this.state.name,desc:_this.state.desc,msg:_this.state.msg,visibility:_this.state.visibility,email:_this.state.email,date:firebase.database.ServerValue.TIMESTAMP};firebase.database().ref('data').push().set(formObj);_this.setState({shouldUpdate:true});alert(\"Message successfully delivered!\");}};_this.myChangeHandler=function(event){var field=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},field,value));};_this.state={name:'',desc:'',msg:'',visibility:'private',email:'',shouldUpdate:false,data:[]};return _this;}_createClass(Form,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.title='Leave a Message';if(!firebase.apps.length){firebase.initializeApp(config);}var ref=firebase.database().ref('data');ref.on('value',function(snapshot){var data=snapshot.val();var newData=[];var months=[\"Jan.\",\"Feb.\",\"Mar.\",\"Apr.\",\"May\",\"Jun.\",\"Jul.\",\"Aug.\",\"Sep.\",\"Oct.\",\"Nov.\",\"Dec.\"];for(var entry in data){var d=new Date(data[entry].date);var date=months[d.getMonth()]+\" \"+d.getDate()+\", \"+d.getFullYear()+\" (\"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds()+\")\";newData.push({id:entry,name:data[entry].name,desc:data[entry].desc,msg:data[entry].msg,visibility:data[entry].visibility,email:data[entry].email,date:date});}_this2.setState({data:newData});});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this3=this;//only call set state here if it is wrapped in a condition\n//if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\nif(this.state.shouldUpdate!==prevState.shouldUpdate){//same code as above to retrieve the data \nvar ref=firebase.database().ref('data');ref.on('value',function(snapshot){var data=snapshot.val();var newData=[];var months=[\"Jan.\",\"Feb.\",\"Mar.\",\"Apr.\",\"May\",\"Jun.\",\"Jul.\",\"Aug.\",\"Sep.\",\"Oct.\",\"Nov.\",\"Dec.\"];for(var entry in data){var d=new Date(data[entry].date);var date=months[d.getMonth()]+\" \"+d.getDate()+\", \"+d.getFullYear()+\" (\"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds()+\")\";newData.push({id:entry,name:data[entry].name,desc:data[entry].desc,msg:data[entry].msg,visibility:data[entry].visibility,email:data[entry].email,date:date});}_this3.setState({data:newData});});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{id:\"form-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form animate__animated animate__fadeInLeft\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.myFormHandler},/*#__PURE__*/React.createElement(\"h2\",null,\"Leave Me a Message\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"*\"),\" Enter your name:\\xA0\",/*#__PURE__*/React.createElement(\"input\",{name:\"name\",type:\"text\",minLength:\"6\",maxLength:\"19\",required:true,onChange:this.myChangeHandler})),/*#__PURE__*/React.createElement(\"p\",null,\"Add a description about yourself:\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{name:\"desc\",type:\"text\",size:\"50\",maxLength:\"99\",onChange:this.myChangeHandler})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"*\"),\" Leave your message:\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"textarea\",{name:\"msg\",minLength:\"16\",maxLength:\"499\",required:true,onChange:this.myChangeHandler})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"b\",null,\"*\"),\" Would you like your name and message to be viewable by the other guests of this site?\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{id:\"visibility\",name:\"visibility\",required:true,onChange:this.myChangeHandler},/*#__PURE__*/React.createElement(\"option\",{value:\"private\"},\"No\"),/*#__PURE__*/React.createElement(\"option\",{value:\"public\"},\"Yes\"))),/*#__PURE__*/React.createElement(\"p\",null,\"Your email:\",/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"text\",size:\"30\",onChange:this.myChangeHandler})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",id:\"submit\",name:\"submit\",value:\"Submit Your Message\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"note\"},/*#__PURE__*/React.createElement(\"b\",null,\"*\"),\": indicates a required field\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"responses animate__animated animate__fadeInRight\"},/*#__PURE__*/React.createElement(\"h2\",{id:\"resp\"},\"Messages\"),this.state.data.map(function(entry){if(entry.visibility!=='private'){if(entry.desc!==''){return/*#__PURE__*/React.createElement(\"div\",{className:\"response animate__animated animate__pulse\",id:entry.id},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},entry.name),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},entry.date)),/*#__PURE__*/React.createElement(\"i\",null,entry.desc),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"message\"},entry.msg),/*#__PURE__*/React.createElement(\"br\",null));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"response animate__animated animate__pulse\",id:entry.id},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},entry.name),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},entry.date)),/*#__PURE__*/React.createElement(\"span\",{className:\"message\"},entry.msg),/*#__PURE__*/React.createElement(\"br\",null));}}})))),/*#__PURE__*/React.createElement(\"button\",{className:\"scrollButton\",style:{display:this.props.display},onClick:this.props.scrollToTop},\"Scroll to Top\"));}}]);return Form;}(Component);export default Form;","map":{"version":3,"sources":["C:/Users/Alex/Desktop/code/reactproj/src/Components/Form.js"],"names":["React","Component","config","firebase","require","Form","props","myFormHandler","event","preventDefault","state","name","alert","msg","visibility","formObj","desc","email","date","database","ServerValue","TIMESTAMP","ref","push","set","setState","shouldUpdate","myChangeHandler","field","target","value","data","document","title","apps","length","initializeApp","on","snapshot","val","newData","months","entry","d","Date","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","id","prevProps","prevState","map","display","scrollToTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport config from '../config.js';\nconst firebase = require('firebase')\n\nexport class Form extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      name: '',\n      desc: '',\n      msg: '',\n      visibility: 'private',\n      email: '',\n      shouldUpdate: false,\n      data: [],\n    }\n  }\n\n  componentDidMount(){\n    document.title = 'Leave a Message';\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config);\n    }\n    let ref = firebase.database().ref('data');\n    ref.on('value', snapshot => {\n      let data = snapshot.val();\n        let newData = [];\n        let months = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n        for (let entry in data) {\n          let d = new Date(data[entry].date);\n          let date = months[d.getMonth()]+\" \"+d.getDate()+\", \"+d.getFullYear()+\" (\"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds()+\")\";\n          newData.push({\n            id: entry,\n            name: data[entry].name,\n            desc: data[entry].desc,\n            msg: data[entry].msg,\n            visibility: data[entry].visibility,\n            email: data[entry].email,\n            date: date,\n          })\n        }\n        this.setState({data: newData});\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot){\n    //only call set state here if it is wrapped in a condition\n    //if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\n    if(this.state.shouldUpdate !== prevState.shouldUpdate){\n      //same code as above to retrieve the data \n      let ref = firebase.database().ref('data');\n      ref.on('value', snapshot => {\n        let data = snapshot.val();\n        let newData = [];\n        let months = [\"Jan.\", \"Feb.\", \"Mar.\", \"Apr.\", \"May\", \"Jun.\", \"Jul.\", \"Aug.\", \"Sep.\", \"Oct.\", \"Nov.\", \"Dec.\"];\n        for (let entry in data) {\n          let d = new Date(data[entry].date);\n          let date = months[d.getMonth()]+\" \"+d.getDate()+\", \"+d.getFullYear()+\" (\"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds()+\")\";\n          newData.push({\n            id: entry,\n            name: data[entry].name,\n            desc: data[entry].desc,\n            msg: data[entry].msg,\n            visibility: data[entry].visibility,\n            email: data[entry].email,\n            date: date,\n          })\n        }\n        this.setState({data: newData});\n      })\n    }\n  }\n\n  myFormHandler = (event) => {\n    event.preventDefault();\n    if (this.state.name === '') {\n      alert(\"Missing the following required field: name\");\n    } else if (this.state.msg === '') {\n      alert(\"Missing the following required field: message\");\n    } else if (this.state.visibility === '') {\n      alert(\"Missing the following required field: visibility\");\n    } else {\n      let formObj = {\n        name: this.state.name, \n        desc: this.state.desc,\n        msg: this.state.msg,\n        visibility: this.state.visibility,\n        email: this.state.email,\n        date: firebase.database.ServerValue.TIMESTAMP,\n      };\n      firebase.database().ref('data').push().set(formObj);\n      this.setState({shouldUpdate: true});\n      alert(\"Message successfully delivered!\");\n    }\n  }\n\n  myChangeHandler = (event) => {\n    let field = event.target.name;\n    let value = event.target.value;\n    this.setState({[field]: value});\n  }\n\n  render() {\n    return (\n      <div>\n        <div className='content'>\n          <div id='form-section'>\n            <div className='form animate__animated animate__fadeInLeft'>\n            <form onSubmit={this.myFormHandler}>\n              <h2>Leave Me a Message</h2>\n              <p><b>*</b> Enter your name:&nbsp;\n              <input name='name' type='text' minLength='6' maxLength='19' required onChange={this.myChangeHandler} /></p>\n              <p>Add a description about yourself:<br/>\n              <input name='desc' type='text' size='50' maxLength='99' onChange={this.myChangeHandler}/>\n              </p>\n              <p><b>*</b> Leave your message:<br/>\n                <textarea name='msg' minLength='16' maxLength='499' required onChange={this.myChangeHandler}></textarea>\n              </p>\n              <p><b>*</b> Would you like your name and message to be viewable by the other guests of this site?<br/>\n                <select id='visibility' name='visibility' required onChange={this.myChangeHandler}>\n                  <option value='private'>No</option>\n                  <option value='public'>Yes</option>\n                </select>\n              </p>\n              <p>Your email:\n              <input name='email' type='text' size='30' onChange={this.myChangeHandler}/>\n              </p>\n              <div>\n                <input type='submit' id='submit' name='submit' value='Submit Your Message'></input>\n                <span className='note'><b>*</b>: indicates a required field</span>\n              </div>\n            </form>\n            </div>\n            <div className='responses animate__animated animate__fadeInRight'>\n              <h2 id='resp'>Messages</h2>\n              {this.state.data.map((entry) => {\n                if(entry.visibility !== 'private') {\n                  if(entry.desc !== '') {\n                    return (\n                      <div className='response animate__animated animate__pulse' id={entry.id}>\n                        <div>\n                          <span className='name'>{entry.name}</span>\n                          <span className='date'>{entry.date}</span>\n                        </div>\n                        <i>{entry.desc}</i><br/>\n                        <span className='message'>{entry.msg}</span><br/>\n                      </div>\n                    )\n                  } else {\n                    return (\n                      <div className='response animate__animated animate__pulse' id={entry.id}>\n                        <div>\n                          <span className='name'>{entry.name}</span>\n                          <span className='date'>{entry.date}</span>\n                        </div>\n                        <span className='message'>{entry.msg}</span><br/>\n                      </div>\n                    )\n                  }\n                }\n              })}\n            </div>\n          </div>\n        </div>\n        <button className='scrollButton' style={{display: this.props.display}} onClick={this.props.scrollToTop}>Scroll to Top</button>\n      </div>\n    );\n  }\n}\nexport default Form;"]},"metadata":{},"sourceType":"module"}